# Web Data Ingest 

> [!NOTE]
> Web refers to what applications I am using on my comptuer 

## Overview
Python -> SQLLite (Parquet) -> S3 -> Foundry First Class Connecter -> Dataset -> Ontology -> Workshop

# Python Script 

## What It Does
- Detects the foreground application executable using Win32 APIs.
- Excludes idle time from sessions.
- Records immutable, non-overlapping sessions to a local SQLite database.

## How It Works

1. `main.py` runs as a single long-lived process.
2. Every second, it checks:
   - Current foreground application executable name.
   - User idle time (Windows API).
3. A session starts when an app gains focus and ends when:
   - Focus changes, or
   - User becomes idle.
4. Only completed sessions with positive duration are written to SQLite.

## Data Model
SQLite file: `activity.db`
Single table: `app_sessions`
- `id` (UUID, primary key)
- `app_name` (e.g., `chrome.exe`, `Code.exe`)
- `start_ts` (ISO 8601 with timezone)
- `end_ts` (ISO 8601 with timezone)
- `duration_sec` (integer)

//Sessions are immutable once written.


# S3 Bucket 

### Format of S3 filepath 
Amazon S3 → time-audit-web2 → raw → 2026 → 02 → 23 → time_audit_19-00.parquet



